syntax = "proto3";

package paxos;

service Acceptor {
    rpc Prepare(PrepareRequest) returns (PrepareResponse) {}
    rpc Accept(AcceptRequest) returns (AcceptResponse) {}
}

message PrepareRequest {
    uint64 proposal_number = 1;
}

message PrepareResponse {
    bool has_accepted_value = 1;
    uint64 accepted_proposal = 2;
    string accepted_value = 3;
}

message AcceptRequest {
    uint64 proposal_number = 2;
    string value = 3;
}

message AcceptResponse {
    uint64 min_proposal = 2;
}